
[[mesh]]
name = "rect"
position = [
  -1.0, -1.0, 0.0,
  +1.0, -1.0, 0.0,
  -1.0, +1.0, 0.0,
  +1.0, +1.0, 0.0,
]
color = [
  255, 255, 255, 255,
  255, 255, 255, 255,
  255, 255, 255, 255,
  255, 255, 255, 255,
]
uv = [
   0.0,  1.0,
   1.0,  1.0,
   0.0,  0.0,
   1.0,  0.0,
]
index = [
  0, 1, 2,
  1, 3, 2,
]

[[mesh]]
name = "reticle"
position = [
  -1.0,  0.0, 0.0,
   0.0, -1.0, 0.0,
   0.0, +1.0, 0.0,
  +1.0,  0.0, 0.0,
]
color = [
  255, 255, 255, 255,
  255, 255, 255, 255,
  255, 255, 255, 255,
  255, 255, 255, 255,
]
index = [
  0, 1, 2,
  1, 3, 2,
]

[[mesh]]
name = "debug-grid"
is_line = true
position = [
  -100.0,    0.0,    0.0,
  +100.0,    0.0,    0.0,
     0.0, -100.0,    0.0,
     0.0, +100.0,    0.0,
     0.0,    0.0, -100.0,
     0.0,    0.0, +100.0,
  -100.0,    0.0, -100.0,
  +100.0,    0.0, -100.0,
  -100.0,    0.0,  -75.0,
  +100.0,    0.0,  -75.0,
  -100.0,    0.0,  -50.0,
  +100.0,    0.0,  -50.0,
  -100.0,    0.0,  -25.0,
  +100.0,    0.0,  -25.0,
  -100.0,    0.0,  +25.0,
  +100.0,    0.0,  +25.0,
  -100.0,    0.0,  +50.0,
  +100.0,    0.0,  +50.0,
  -100.0,    0.0,  +75.0,
  +100.0,    0.0,  +75.0,
  -100.0,    0.0, +100.0,
  +100.0,    0.0, +100.0,
  -100.0,    0.0, -100.0,
  -100.0,    0.0, +100.0,
   -75.0,    0.0, -100.0,
   -75.0,    0.0, +100.0,
   -50.0,    0.0, -100.0,
   -50.0,    0.0, +100.0,
   -25.0,    0.0, -100.0,
   -25.0,    0.0, +100.0,
   +25.0,    0.0, -100.0,
   +25.0,    0.0, +100.0,
   +50.0,    0.0, -100.0,
   +50.0,    0.0, +100.0,
   +75.0,    0.0, -100.0,
   +75.0,    0.0, +100.0,
  +100.0,    0.0, -100.0,
  +100.0,    0.0, +100.0,
]
color = [
  255,   0,   0, 255,
  255, 128, 128, 255,
    0, 255,   0, 255,
  128, 255, 128, 255,
    0,   0, 255, 255,
  128, 128, 255, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
   64,  64,  64, 255,
]

[[shader]]
name = "mesh_pnc"
vertex_shader = """
#version 300 es
layout (location = 0) in vec3 p;
layout (location = 1) in vec3 n;
layout (location = 2) in vec4 c;
layout (std140) uniform a {
  mat4 w;
};
uniform mat4 vp;
out vec3 vn;
out vec4 vc;
void main() {
  gl_Position = vp * w * vec4(p, 1);
  vn = vec3(w * vec4(n, 0));
  vc = c;
}
"""
fragment_shader = """
#version 300 es
precision mediump float;
in vec3 vn;
in vec4 vc;
out vec4 fc;
void main() {
  fc = vc;
}
"""
uniform = ["vp"]
uniform_block = ["a"]

[[shader]]
name = "mesh_pc"
vertex_shader = """
#version 300 es
layout (location = 0) in vec3 p;
layout (location = 2) in vec4 c;
uniform mat4 w;
uniform mat4 vp;
out vec4 vc;
void main() {
  gl_Position = vp * w * vec4(p, 1);
  vc = c;
}
"""
fragment_shader = """
#version 300 es
precision mediump float;
in vec4 vc;
out vec4 fc;
void main() {
  fc = vc;
}
"""
uniform = ["w", "vp"]
